import{b_ as ae,bA as ie,bz as R,b$ as ne,bW as q,bU as se,bT as m,c0 as W,c1 as oe,c2 as le,c3 as g,c4 as b,c5 as fe,c6 as ce,bV as F,c7 as de,bm as D,O as J,c8 as ue,c9 as pe,_ as B,A as ve,D as be,ca as $e,X as ge}from"./index-ua0-K29W.js";import{r as E}from"./react-router-dom-D2nijK8M.js";const ye=E.createContext({isNative:!0,open:he,useHref:t=>t});function Q(){return E.useContext(ye)}function ke(t,n){let i=t.getAttribute("target");return(!i||i==="_self")&&t.origin===location.origin&&!t.hasAttribute("download")&&!n.metaKey&&!n.ctrlKey&&!n.altKey&&!n.shiftKey}function S(t,n,i=!0){var o,f;let{metaKey:p,ctrlKey:v,altKey:u,shiftKey:h}=n;ae()&&(!((f=window.event)===null||f===void 0||(o=f.type)===null||o===void 0)&&o.startsWith("key"))&&t.target==="_blank"&&(R()?p=!0:v=!0);let T=ie()&&R()&&!ne()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:p,ctrlKey:v,altKey:u,shiftKey:h}):new MouseEvent("click",{metaKey:p,ctrlKey:v,altKey:u,shiftKey:h,bubbles:!0,cancelable:!0});S.isOpening=i,q(t),t.dispatchEvent(T),S.isOpening=!1}S.isOpening=!1;function Pe(t,n){if(t instanceof HTMLAnchorElement)n(t);else if(t.hasAttribute("data-href")){let i=document.createElement("a");i.href=t.getAttribute("data-href"),t.hasAttribute("data-target")&&(i.target=t.getAttribute("data-target")),t.hasAttribute("data-rel")&&(i.rel=t.getAttribute("data-rel")),t.hasAttribute("data-download")&&(i.download=t.getAttribute("data-download")),t.hasAttribute("data-ping")&&(i.ping=t.getAttribute("data-ping")),t.hasAttribute("data-referrer-policy")&&(i.referrerPolicy=t.getAttribute("data-referrer-policy")),t.appendChild(i),n(i),t.removeChild(i)}}function he(t,n){Pe(t,i=>S(i,n))}function we(t){let n=Q();var i;const o=n.useHref((i=t.href)!==null&&i!==void 0?i:"");return{"data-href":t.href?o:void 0,"data-target":t.target,"data-rel":t.rel,"data-download":t.download,"data-ping":t.ping,"data-referrer-policy":t.referrerPolicy}}function Se(t){let n=Q();var i;const o=n.useHref((i=t==null?void 0:t.href)!==null&&i!==void 0?i:"");return{href:t!=null&&t.href?o:void 0,target:t==null?void 0:t.target,rel:t==null?void 0:t.rel,download:t==null?void 0:t.download,ping:t==null?void 0:t.ping,referrerPolicy:t==null?void 0:t.referrerPolicy}}function Te(t){let n=E.useContext(ue);if(n){let{register:i,...o}=n;t=J(o,t),i()}return pe(n,t.ref),t}var O=new WeakMap;class L{continuePropagation(){B(this,O,!1)}get shouldStopPropagation(){return ve(this,O)}constructor(n,i,o,f){be(this,O,{writable:!0,value:void 0}),B(this,O,!0);var p;let v=(p=f==null?void 0:f.target)!==null&&p!==void 0?p:o.currentTarget;const u=v==null?void 0:v.getBoundingClientRect();let h,T=0,A,y=null;o.clientX!=null&&o.clientY!=null&&(A=o.clientX,y=o.clientY),u&&(A!=null&&y!=null?(h=A-u.left,T=y-u.top):(h=u.width/2,T=u.height/2)),this.type=n,this.pointerType=i,this.target=o.currentTarget,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.x=h,this.y=T}}const G=Symbol("linkClicked");function Ae(t){let{onPress:n,onPressChange:i,onPressStart:o,onPressEnd:f,onPressUp:p,onClick:v,isDisabled:u,isPressed:h,preventFocusOnPress:T,shouldCancelOnPointerExit:A,allowTextSelectionOnPress:y,ref:I,...ee}=Te(t),[te,z]=E.useState(!1),K=E.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null,disposables:[]}),{addGlobalListener:C,removeAllGlobalListeners:H}=se(),_=m((e,s)=>{let c=K.current;if(u||c.didFirePressStart)return!1;let r=!0;if(c.isTriggeringEvent=!0,o){let l=new L("pressstart",s,e);o(l),r=l.shouldStopPropagation}return i&&i(!0),c.isTriggeringEvent=!1,c.didFirePressStart=!0,z(!0),r}),k=m((e,s,c=!0)=>{let r=K.current;if(!r.didFirePressStart)return!1;r.didFirePressStart=!1,r.isTriggeringEvent=!0;let l=!0;if(f){let a=new L("pressend",s,e);f(a),l=a.shouldStopPropagation}if(i&&i(!1),z(!1),n&&c&&!u){let a=new L("press",s,e);n(a),l&&(l=a.shouldStopPropagation)}return r.isTriggeringEvent=!1,l}),M=m((e,s)=>{let c=K.current;if(u)return!1;if(p){c.isTriggeringEvent=!0;let r=new L("pressup",s,e);return p(r),c.isTriggeringEvent=!1,r.shouldStopPropagation}return!0}),x=m(e=>{let s=K.current;if(s.isPressed&&s.target){s.didFirePressStart&&s.pointerType!=null&&k(w(s.target,e),s.pointerType,!1),s.isPressed=!1,s.isOverTarget=!1,s.activePointerId=null,s.pointerType=null,H(),y||W(s.target);for(let c of s.disposables)c();s.disposables=[]}}),N=m(e=>{A&&x(e)}),U=m(e=>{v==null||v(e)}),V=m((e,s)=>{if(v){let c=new MouseEvent("click",e);oe(c,s),v(le(c))}}),re=E.useMemo(()=>{let e=K.current,s={onKeyDown(r){if(X(r.nativeEvent,r.currentTarget)&&g(r.currentTarget,b(r.nativeEvent))){var l;j(b(r.nativeEvent),r.key)&&r.preventDefault();let a=!0;if(!e.isPressed&&!r.repeat){e.target=r.currentTarget,e.isPressed=!0,e.pointerType="keyboard",a=_(r,"keyboard");let d=r.currentTarget,$=P=>{X(P,d)&&!P.repeat&&g(d,b(P))&&e.target&&M(w(e.target,P),"keyboard")};C(F(r.currentTarget),"keyup",ge($,c),!0)}a&&r.stopPropagation(),r.metaKey&&R()&&((l=e.metaKeyEvents)===null||l===void 0||l.set(r.key,r.nativeEvent))}else r.key==="Meta"&&(e.metaKeyEvents=new Map)},onClick(r){if(!(r&&!g(r.currentTarget,b(r.nativeEvent)))&&r&&r.button===0&&!e.isTriggeringEvent&&!S.isOpening){let l=!0;if(u&&r.preventDefault(),!e.ignoreEmulatedMouseEvents&&!e.isPressed&&(e.pointerType==="virtual"||$e(r.nativeEvent))){let a=_(r,"virtual"),d=M(r,"virtual"),$=k(r,"virtual");U(r),l=a&&d&&$}else if(e.isPressed&&e.pointerType!=="keyboard"){let a=e.pointerType||r.nativeEvent.pointerType||"virtual";l=k(w(r.currentTarget,r),a,!0),e.isOverTarget=!1,U(r),x(r)}e.ignoreEmulatedMouseEvents=!1,l&&r.stopPropagation()}}},c=r=>{var l;if(e.isPressed&&e.target&&X(r,e.target)){var a;j(b(r),r.key)&&r.preventDefault();let $=b(r),P=g(e.target,b(r));k(w(e.target,r),"keyboard",P),P&&V(r,e.target),H(),r.key!=="Enter"&&Y(e.target)&&g(e.target,$)&&!r[G]&&(r[G]=!0,S(e.target,r,!1)),e.isPressed=!1,(a=e.metaKeyEvents)===null||a===void 0||a.delete(r.key)}else if(r.key==="Meta"&&(!((l=e.metaKeyEvents)===null||l===void 0)&&l.size)){var d;let $=e.metaKeyEvents;e.metaKeyEvents=void 0;for(let P of $.values())(d=e.target)===null||d===void 0||d.dispatchEvent(new KeyboardEvent("keyup",P))}};if(typeof PointerEvent<"u"){s.onPointerDown=a=>{if(a.button!==0||!g(a.currentTarget,b(a.nativeEvent)))return;if(fe(a.nativeEvent)){e.pointerType="virtual";return}e.pointerType=a.pointerType;let d=!0;if(!e.isPressed){e.isPressed=!0,e.isOverTarget=!0,e.activePointerId=a.pointerId,e.target=a.currentTarget,y||ce(e.target),d=_(a,e.pointerType);let $=b(a.nativeEvent);"releasePointerCapture"in $&&$.releasePointerCapture(a.pointerId),C(F(a.currentTarget),"pointerup",r,!1),C(F(a.currentTarget),"pointercancel",l,!1)}d&&a.stopPropagation()},s.onMouseDown=a=>{if(g(a.currentTarget,b(a.nativeEvent))&&a.button===0){if(T){let d=de(a.target);d&&e.disposables.push(d)}a.stopPropagation()}},s.onPointerUp=a=>{!g(a.currentTarget,b(a.nativeEvent))||e.pointerType==="virtual"||a.button===0&&M(a,e.pointerType||a.pointerType)},s.onPointerEnter=a=>{a.pointerId===e.activePointerId&&e.target&&!e.isOverTarget&&e.pointerType!=null&&(e.isOverTarget=!0,_(w(e.target,a),e.pointerType))},s.onPointerLeave=a=>{a.pointerId===e.activePointerId&&e.target&&e.isOverTarget&&e.pointerType!=null&&(e.isOverTarget=!1,k(w(e.target,a),e.pointerType,!1),N(a))};let r=a=>{if(a.pointerId===e.activePointerId&&e.isPressed&&a.button===0&&e.target){if(g(e.target,b(a))&&e.pointerType!=null){let d=!1,$=setTimeout(()=>{e.isPressed&&e.target instanceof HTMLElement&&(d?x(a):(q(e.target),e.target.click()))},80);C(a.currentTarget,"click",()=>d=!0,!0),e.disposables.push(()=>clearTimeout($))}else x(a);e.isOverTarget=!1}},l=a=>{x(a)};s.onDragStart=a=>{g(a.currentTarget,b(a.nativeEvent))&&x(a)}}return s},[C,u,T,H,y,x,N,k,_,M,U,V]);return E.useEffect(()=>{let e=I==null?void 0:I.current;e&&e instanceof D(e).Element&&D(e).getComputedStyle(e).touchAction==="auto"&&(e.style.touchAction="pan-x pan-y pinch-zoom")},[I]),E.useEffect(()=>{let e=K.current;return()=>{var s;y||W((s=e.target)!==null&&s!==void 0?s:void 0);for(let c of e.disposables)c();e.disposables=[]}},[y]),{isPressed:h||te,pressProps:J(ee,re)}}function Y(t){return t.tagName==="A"&&t.hasAttribute("href")}function X(t,n){const{key:i,code:o}=t,f=n,p=f.getAttribute("role");return(i==="Enter"||i===" "||i==="Spacebar"||o==="Space")&&!(f instanceof D(f).HTMLInputElement&&!Z(f,i)||f instanceof D(f).HTMLTextAreaElement||f.isContentEditable)&&!((p==="link"||!p&&Y(f))&&i!=="Enter")}function w(t,n){let i=n.clientX,o=n.clientY;return{currentTarget:t,shiftKey:n.shiftKey,ctrlKey:n.ctrlKey,metaKey:n.metaKey,altKey:n.altKey,clientX:i,clientY:o}}function Ee(t){return t instanceof HTMLInputElement?!1:t instanceof HTMLButtonElement?t.type!=="submit"&&t.type!=="reset":!Y(t)}function j(t,n){return t instanceof HTMLInputElement?!Z(t,n):Ee(t)}const xe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Z(t,n){return t.type==="checkbox"||t.type==="radio"?n===" ":xe.has(t.type)}export{Ae as $,Q as a,ke as b,we as c,Se as d,S as e};
